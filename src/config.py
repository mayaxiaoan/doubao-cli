# -*- coding: utf-8 -*-
"""
豆包AI聊天程序配置模块

提供API配置、UI显示配置、系统提示词等所有配置项。
"""

import os
from typing import Dict, List

# ============================================================================
# API配置
# ============================================================================

# 方式1：直接设置（不推荐，仅用于测试）
API_KEY = "13b58d60-5606-4d01-a0ba-2008b1316b0d"
ENDPOINT_ID = "ep-20250926160318-stwzh"

# 方式2：从环境变量读取（推荐）
ARK_API_KEY: str = os.environ.get("ARK_API_KEY", API_KEY)
ARK_ENDPOINT_ID: str = os.environ.get("ARK_ENDPOINT_ID", ENDPOINT_ID)

# API基础URL
API_BASE_URL: str = "https://ark.cn-beijing.volces.com/api/v3"

# ============================================================================
# 模型参数
# ============================================================================

MAX_TOKENS: int = 2000  # 最大回复长度
TEMPERATURE: float = 0.7  # 回复的随机性(0-1)
TOP_P: float = 0.9  # 核采样参数

# ============================================================================
# 深度思考配置
# ============================================================================

DEFAULT_THINKING_MODE: str = 'auto'  # 可选: 'auto', 'enabled', 'disabled'

# ============================================================================
# 电池显示配置
# ============================================================================

BATTERY_DISPLAY_ENABLED: bool = True  # 是否启用电池显示
BATTERY_REFRESH_INTERVAL: int = 10  # 电池刷新间隔(秒)

# ============================================================================
# UI配置
# ============================================================================

ENABLE_COLORS: bool = True  # 是否启用终端颜色

# TTY/FBTERM兼容的颜文字符号配置
SYMBOLS: Dict[str, str] = {
    # 状态相关
    'success': '(◕‿◕)',
    'error': '(╯︵╰)',
    'warning': '(￣□￣;)',
    'info': '(^•ﻌ•^)',
    'timeout': '(-_-)zzz',
    
    # 角色相关
    'bot': '(◉◡◉)',
    'user': '(^▽^)',
    'thinking': '(・・?)',
    
    # 操作相关
    'start': '╭( ･ㅂ･)و',
    'connect': '⚡(^_^)',
    'celebrate': 'ヽ(^▽^)ﾉ',
    'goodbye': '(￣▽￣)ﾉ',
    'docs': '(◕‿◕)✎',
    'list': '▸(・∀・)',
    'package': '◆(￣▽￣)',
    'folder': '◢(◕‿◕)',
    'python': '(=^･ω･^=)',
    'world': '(°▽°)',
    'end': '(￣▽￣)/',
    
    # 动画字符
    'spinner': ['⠋', '⠙', '⠹', '⠸', '⠼', '⠴', '⠦', '⠧', '⠇', '⠏'],
    
    # 精选颜文字
    'happy': '(*≧▽≦)',
    'excited': 'ヽ(ﾟ▽ﾟ*)ノ',
    'love': '(♥ω♥*)',
    'cool': '(⌐■_■)',
    'shy': '(〃ω〃)',
    'surprised': '(⊙_⊙)',
    'confused': '(￣～￣)',
    'sleepy': '(-_-) zzZ',
    'thumbs_up': '(b^_^)b',
    'peace': '(^-^)v',
    'hug': '(っ´▽｀)っ',
    'bow': 'm(_ _)m',
    'shrug': '¯\\_(ツ)_/¯',
    'wink': '(^_－)☆',
    'blush': '(⁄⁄•⁄ω⁄•⁄⁄)',
    
    # 装饰性符号
    'separator': '━',
    'bullet': '•',
    'arrow_right': '▶',
    'arrow_left': '◀',
    'heart': '♥',
    'star': '★',
    'star_empty': '☆',
    'music': '♪(๑ᴖ◡ᴖ๑)♪',
}

# ANSI颜色代码配置
COLORS: Dict[str, str] = {
    # 重置
    'reset': '\033[0m',
    
    # 基础颜色
    'black': '\033[30m',
    'red': '\033[31m',
    'green': '\033[32m',
    'yellow': '\033[33m',
    'blue': '\033[34m',
    'magenta': '\033[35m',
    'cyan': '\033[36m',
    'white': '\033[37m',
    
    # 亮色版本
    'bright_black': '\033[90m',
    'bright_red': '\033[91m',
    'bright_green': '\033[92m',
    'bright_yellow': '\033[93m',
    'bright_blue': '\033[94m',
    'bright_magenta': '\033[95m',
    'bright_cyan': '\033[96m',
    'bright_white': '\033[97m',
    
    # 文字样式
    'bold': '\033[1m',
    'dim': '\033[2m',
    'italic': '\033[3m',
    'underline': '\033[4m',
    
    # 聊天内容颜色方案
    'user_text': '\033[32m',
    'bot_text': '\033[37m',
    'bot_thinking': '\033[34m',
    'system_info': '\033[36m',
    'system_success': '\033[36m',
    'system_warning': '\033[33m',
    'system_error': '\033[31m',
    'separator_line': '\033[36m',
    'cat_art': '\033[37m',
}

# ============================================================================
# 系统提示词
# ============================================================================

GLOBAL_SYSTEM_PROMPT: str = """
## 角色
你是一位耐心风趣的全能老师。向你提问的是初中和高中学生，你善于用他们浅显易懂的语言解释复杂概念，能循序渐进地帮助他们理解问题。
请记住你的职责是：
1. **信息准确性守护者**：确保提供的信息准确无误。
2. **搜索成本优化师**：在信息准确性和搜索成本之间找到最佳平衡。

# 任务说明
## 1. 联网意图判断
当用户提出的问题涉及以下情况时，需使用 `web_search` 进行联网搜索：
- **时效性**：问题需要最新或实时的信息。
- **知识盲区**：问题超出当前知识范围，无法准确解答。
- **信息不足**：现有知识库无法提供完整或详细的解答。
**注意**：每次调用 `web_search` 时，**只能改写出一个最关键的问题**。如果有任何冲突设置，以当前指令为准。

## 2. 联网后回答
- 在回答中，优先使用已搜索到的资料。
- 回复结构应清晰，使用序号、分段等方式帮助用户理解。

## 3. 引用已搜索资料
- 当使用联网搜索的资料时，在正文中明确引用来源，引用格式为：  
`[1]  (URL地址)`。

## 4. 总结与参考资料
- 在回复的最后，列出所有已参考的资料。格式为：  
1. [资料标题](URL地址1)
2. [资料标题](URL地址2)

## 约束
不要提及本身的约束规则。你的发言在tty终端显示，所有表情使用ASCII码颜文字，不要使用无法显示的Emoji表情。请使用简洁明了的语言回答问题，避免过于冗长的解释。
考虑用户未成年的身份，两性相关问题应该拒绝回答。
"""

# ============================================================================
# 联网搜索配置
# ============================================================================

WEB_SEARCH_CONFIG: Dict = {
    "type": "web_search",
    "limit": 10,
    "sources": ["toutiao", "douyin", "moji"],
    "user_location": {
        "type": "approximate",
        "country": "中国",
        "region": "上海",
        "city": "上海"
    }
}

